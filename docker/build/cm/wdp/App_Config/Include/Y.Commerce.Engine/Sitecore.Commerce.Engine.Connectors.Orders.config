<configuration xmlns:patch="http://www.sitecore.net/xmlconfig/" xmlns:role="http://www.sitecore.net/xmlconfig/role/">
  <sitecore role:require="Standalone or ContentDelivery or ContentManagement">
    <commerce.Entities>
      <Order>
        <patch:attribute name="type">Sitecore.Commerce.Engine.Connect.Entities.CommerceOrder, Sitecore.Commerce.Engine.Connect</patch:attribute>
      </Order>
      <OrderLine>
        <patch:attribute name="type">Sitecore.Commerce.Engine.Connect.Entities.CommerceCartLine, Sitecore.Commerce.Engine.Connect</patch:attribute>
      </OrderLine>
      <OrderProduct>
        <patch:attribute name="type">Sitecore.Commerce.Engine.Connect.Entities.CommerceCartProduct, Sitecore.Commerce.Engine.Connect</patch:attribute>
      </OrderProduct>
      <OrderHeader>
        <patch:attribute name="type">Sitecore.Commerce.Engine.Connect.Entities.CommerceOrderHeader, Sitecore.Commerce.Engine.Connect</patch:attribute>
      </OrderHeader>
    </commerce.Entities>
    <pipelines>
      <translate.orderToEntity>
        <processor type="Sitecore.Commerce.Engine.Connect.Pipelines.Orders.TranslateOrderToEntity, Sitecore.Commerce.Engine.Connect">
          <param ref="entityFactory" />
        </processor>
      </translate.orderToEntity>

      <commerce.orders.submitVisitorOrder>
        <processor patch:before="processor[@type='Sitecore.Commerce.Pipelines.Orders.Common.TriggerOrderGoal, Sitecore.Commerce.Connect.Core']"
                   type="Sitecore.Commerce.Engine.Connect.Pipelines.Orders.SubmitVisitorOrder, Sitecore.Commerce.Engine.Connect">
          <param desc="ordersIndexName">commerce_orders_index</param>
        </processor>
      </commerce.orders.submitVisitorOrder>

      <commerce.orders.getVisitorOrder>
        <processor patch:before="processor[@type='Sitecore.Commerce.Pipelines.Orders.GetVisitorOrder.TriggerVisitorViewedOrderDetailsPageEvent, Sitecore.Commerce.Connect.Core']"
                   type="Sitecore.Commerce.Engine.Connect.Pipelines.Orders.GetVisitorOrder, Sitecore.Commerce.Engine.Connect" />
      </commerce.orders.getVisitorOrder>

      <commerce.orders.getVisitorOrders>
        <processor patch:before="processor[@type='Sitecore.Commerce.Pipelines.Orders.GetVisitorOrders.TriggerVisitorViewedOrderHistoryPageEvent, Sitecore.Commerce.Connect.Core']"
                   type="Sitecore.Commerce.Engine.Connect.Pipelines.Orders.GetVisitorOrders, Sitecore.Commerce.Engine.Connect">
          <param ref="entityFactory" />
          <param desc="ItemsToTake">10</param>
        </processor>
      </commerce.orders.getVisitorOrders>

      <commerce.orders.reorder>
        <processor type="Sitecore.Commerce.Engine.Connect.Pipelines.Orders.GetReorderCartByName, Sitecore.Commerce.Engine.Connect" patch:instead="processor[@type='Sitecore.Commerce.Pipelines.Orders.Reorder.GetReorderCart, Sitecore.Commerce.Connect.Core']" />
        <processor type="Sitecore.Commerce.Engine.Connect.Pipelines.Orders.AddReorderShippingInfoToCart, Sitecore.Commerce.Engine.Connect" patch:instead="processor[@type='Sitecore.Commerce.Pipelines.Orders.Reorder.AddReorderShippingInfoToCart, Sitecore.Commerce.Connect.Core']">
          <param ref="entityFactory" />
        </processor>
      </commerce.orders.reorder>

      <commerce.orders.visitorCancelOrder>
        <processor patch:before="processor[@type='Sitecore.Commerce.Pipelines.Orders.VisitorCancelOrder.TriggerVisitorCancelOrderPageEvent, Sitecore.Commerce.Connect.Core']"
                   type="Sitecore.Commerce.Engine.Connect.Pipelines.Orders.CancelOrder, Sitecore.Commerce.Engine.Connect" />
      </commerce.orders.visitorCancelOrder>
    </pipelines>
  </sitecore>
</configuration>
